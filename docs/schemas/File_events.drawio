<mxfile host="65bd71144e">
    <diagram id="liNp7VBEPhLPeZoA0ARd" name="File_found/created">
        <mxGraphModel dx="732" dy="851" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="4" value="" style="edgeStyle=none;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="2" target="49" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="539.37" y="-50" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="2" value="Найден или создан файл" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_1;whiteSpace=wrap;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;fontSize=13;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="363" y="10" width="100" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="85" style="html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="3" target="vw26IMvKFmatZuRMMOBK-248" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="616.6299999999999" y="417.0000000000002" as="sourcePoint"/>
                        <mxPoint x="580" y="500" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="87" value="нет" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="85" vertex="1" connectable="0">
                    <mxGeometry x="0.0383" relative="1" as="geometry">
                        <mxPoint x="-86" y="-171" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="vw26IMvKFmatZuRMMOBK-249" value="нет" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="85" vertex="1" connectable="0">
                    <mxGeometry x="-0.1029" y="-3" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="3" value="&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(0, 0, 0));&quot;&gt;Мета в БД?&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(0, 0, 0)); font-size: 7px;&quot;&gt;(ищем по симлинку)&lt;/font&gt;&lt;/div&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;fillColor=#a20025;fontColor=#ffffff;strokeColor=#6F0000;" parent="1" vertex="1">
                    <mxGeometry x="364" y="300" width="100" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="5" value="Создаём базовую мету" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
                    <mxGeometry x="364" y="210" width="100" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="18" style="edgeStyle=none;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.842;exitY=0.604;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="wrdCEefzEbq0fD88tQRF-248" target="3" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="240" y="290" as="sourcePoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="53" value="&lt;span style=&quot;&quot;&gt;crawler.&lt;/span&gt;&lt;div&gt;_get_db_files_data()&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=light-dark(#000000,#FFFFFF);" parent="18" vertex="1" connectable="0">
                    <mxGeometry x="-0.0214" y="-1" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="45" style="edgeStyle=orthogonalEdgeStyle;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="29" target="wetkOSwJ6PtdzwyL2lRO-264" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="524.63" y="622" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="48" value="Нет" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="45" vertex="1" connectable="0">
                    <mxGeometry x="-0.3237" y="-2" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="29" value="Отпечаток тот же?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;fillColor=#a20025;fontColor=#ffffff;strokeColor=#6F0000;" parent="1" vertex="1">
                    <mxGeometry x="364" y="550.0000000000001" width="100" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="30" style="edgeStyle=orthogonalEdgeStyle;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="3" target="37" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="390" y="427" as="sourcePoint"/>
                        <mxPoint x="310" y="407" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="31" value="Да" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="30" vertex="1" connectable="0">
                    <mxGeometry x="0.1" y="-2" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="39" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="37" target="38" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="40" value="Нет" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="39" vertex="1" connectable="0">
                    <mxGeometry x="-0.0956" y="1" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="37" value="Путь тот же?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;fillColor=#a20025;fontColor=#ffffff;strokeColor=#6F0000;" parent="1" vertex="1">
                    <mxGeometry x="363" y="410" width="100" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="55" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="38" target="29" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="234.24" y="560" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="38" value="FileMovedEvent" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;strokeColor=light-dark(#000000,#CCCC00);fillColor=light-dark(#FFFFFF,#999900);fontColor=light-dark(#000000,#000000);" parent="1" vertex="1">
                    <mxGeometry x="184.24" y="490" width="100" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="41" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="37" target="29" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="42" value="Да" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="41" vertex="1" connectable="0">
                    <mxGeometry x="-0.0828" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="50" style="edgeStyle=none;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="49" target="5" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="49" value="FileCreatedEvent" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;strokeColor=light-dark(#000000,#CCCC00);fillColor=light-dark(#FFFFFF,#999900);fontColor=light-dark(#000000,#000000);" parent="1" vertex="1">
                    <mxGeometry x="363" y="120" width="100" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="248" style="edgeStyle=none;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="5" target="3" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="wetkOSwJ6PtdzwyL2lRO-264" value="FileModifiedEvent" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;strokeColor=light-dark(#000000,#CCCC00);fillColor=light-dark(#FFFFFF,#999900);fontColor=light-dark(#000000,#000000);" parent="1" vertex="1">
                    <mxGeometry x="364" y="675" width="100" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="vw26IMvKFmatZuRMMOBK-251" style="edgeStyle=none;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="vw26IMvKFmatZuRMMOBK-248" target="vw26IMvKFmatZuRMMOBK-250" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="vw26IMvKFmatZuRMMOBK-248" value="финализируем мету файла" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
                    <mxGeometry x="550" y="310" width="95" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="vw26IMvKFmatZuRMMOBK-250" value="update_batch" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;strokeColor=light-dark(#000000,#CCCC00);fillColor=light-dark(#FFFFFF,#999900);fontColor=light-dark(#000000,#000000);" parent="1" vertex="1">
                    <mxGeometry x="520" y="410" width="155" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="wrdCEefzEbq0fD88tQRF-248" value="db_meta" style="strokeWidth=2;shape=mxgraph.flowchart.extract_or_measurement;whiteSpace=wrap;fillColor=light-dark(#60A917,#000000);fontColor=light-dark(#FFFFFF,#FFFFFF);strokeColor=#2D7600;" parent="1" vertex="1">
                    <mxGeometry x="110" y="300" width="95" height="60" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
    <diagram id="dNh2bA4HYzJonOibLc1j" name="File_modified">
        <mxGraphModel dx="732" dy="851" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="K33ewBr1qtM93xVb5Wzs-1" value="Файл модифицирован" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_1;whiteSpace=wrap;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;fontSize=13;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="349" y="10" width="121" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="gPEspsfPPCJ2epgcEjKa-23" style="edgeStyle=none;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="0poLGDn955sEGGy85D6p-5" target="gPEspsfPPCJ2epgcEjKa-34" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="659" y="690" as="sourcePoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="gPEspsfPPCJ2epgcEjKa-33" style="edgeStyle=none;html=1;" parent="1" source="gPEspsfPPCJ2epgcEjKa-34" target="gPEspsfPPCJ2epgcEjKa-37" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="gPEspsfPPCJ2epgcEjKa-34" value="Сохраняем список изменений в crawler.file_diffs" style="rounded=1;whiteSpace=wrap;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
                    <mxGeometry x="343.5" y="760" width="130" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="gPEspsfPPCJ2epgcEjKa-35" style="edgeStyle=none;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="gPEspsfPPCJ2epgcEjKa-37" target="gPEspsfPPCJ2epgcEjKa-38" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="rZu0utZ-oUgmUv9uuytu-2" style="edgeStyle=none;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="gPEspsfPPCJ2epgcEjKa-37" target="rZu0utZ-oUgmUv9uuytu-1" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="gPEspsfPPCJ2epgcEjKa-37" value="сохраняем изменения в meta.changes&#xa;записываем инфу о пред. версии в meta.prev" style="rounded=1;whiteSpace=wrap;absoluteArcSize=1;arcSize=14;strokeWidth=2;fontSize=10;" parent="1" vertex="1">
                    <mxGeometry x="324.5" y="849.5799999999999" width="170" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="gPEspsfPPCJ2epgcEjKa-38" value="сохраняем мету в crawler.new_indexed_files" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
                    <mxGeometry x="129.99999999999997" y="849.5799999999999" width="155" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="gPEspsfPPCJ2epgcEjKa-58" style="edgeStyle=orthogonalEdgeStyle;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="K33ewBr1qtM93xVb5Wzs-1" target="WrUVfjdqdiQjbBq9CG2c-1" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="660" y="60" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="WrUVfjdqdiQjbBq9CG2c-2" style="edgeStyle=none;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="WrUVfjdqdiQjbBq9CG2c-1" target="qiaT2ZWoHhlmzKawoccj-4" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="409.5" y="200" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="WrUVfjdqdiQjbBq9CG2c-1" value="FileModifiedEvent" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;strokeColor=light-dark(#000000,#CCCC00);fillColor=light-dark(#FFFFFF,#999900);fontColor=light-dark(#000000,#000000);" parent="1" vertex="1">
                    <mxGeometry x="359.5" y="110" width="100" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="qiaT2ZWoHhlmzKawoccj-36" style="edgeStyle=none;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="0poLGDn955sEGGy85D6p-3" target="0poLGDn955sEGGy85D6p-5" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="0poLGDn955sEGGy85D6p-3" value="финализируем мету файла" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
                    <mxGeometry x="362" y="560.0000000000001" width="95" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="0poLGDn955sEGGy85D6p-5" value="Формируем список изменений" style="rounded=1;whiteSpace=wrap;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
                    <mxGeometry x="343.5" y="660" width="130" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="rZu0utZ-oUgmUv9uuytu-1" value="update_batch" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;strokeColor=light-dark(#000000,#CCCC00);fillColor=light-dark(#FFFFFF,#999900);fontColor=light-dark(#000000,#000000);" parent="1" vertex="1">
                    <mxGeometry x="331" y="940" width="155" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="qiaT2ZWoHhlmzKawoccj-2" style="edgeStyle=none;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="qiaT2ZWoHhlmzKawoccj-4" target="qiaT2ZWoHhlmzKawoccj-5" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="qiaT2ZWoHhlmzKawoccj-3" value="нет" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="qiaT2ZWoHhlmzKawoccj-2" vertex="1" connectable="0">
                    <mxGeometry x="-0.2608" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="qiaT2ZWoHhlmzKawoccj-4" value="Получена мета файла?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;fillColor=#a20025;fontColor=#ffffff;strokeColor=#6F0000;" parent="1" vertex="1">
                    <mxGeometry x="359.5" y="200" width="100" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="qiaT2ZWoHhlmzKawoccj-5" value="Создаём базовую мету" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
                    <mxGeometry x="517.87" y="210" width="100" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="qiaT2ZWoHhlmzKawoccj-6" style="edgeStyle=none;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="qiaT2ZWoHhlmzKawoccj-4" target="qiaT2ZWoHhlmzKawoccj-9" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="408.24" y="330" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="qiaT2ZWoHhlmzKawoccj-7" value="да" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="qiaT2ZWoHhlmzKawoccj-6" vertex="1" connectable="0">
                    <mxGeometry x="-0.1429" y="-1" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="qiaT2ZWoHhlmzKawoccj-8" style="html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;edgeStyle=orthogonalEdgeStyle;" parent="1" source="qiaT2ZWoHhlmzKawoccj-5" target="qiaT2ZWoHhlmzKawoccj-9" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="568" y="310"/>
                            <mxPoint x="409" y="310"/>
                        </Array>
                        <mxPoint x="408.24" y="330" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="qiaT2ZWoHhlmzKawoccj-16" style="edgeStyle=none;html=1;entryX=0.22;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="qiaT2ZWoHhlmzKawoccj-9" target="qiaT2ZWoHhlmzKawoccj-17" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="517.8699999999999" y="365" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="qiaT2ZWoHhlmzKawoccj-24" value="Нет" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="qiaT2ZWoHhlmzKawoccj-16" vertex="1" connectable="0">
                    <mxGeometry x="-0.2465" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="qiaT2ZWoHhlmzKawoccj-25" style="edgeStyle=none;html=1;" parent="1" source="qiaT2ZWoHhlmzKawoccj-9" target="qiaT2ZWoHhlmzKawoccj-23" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="qiaT2ZWoHhlmzKawoccj-26" value="Да" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="qiaT2ZWoHhlmzKawoccj-25" vertex="1" connectable="0">
                    <mxGeometry x="-0.1867" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="qiaT2ZWoHhlmzKawoccj-9" value="Получена db_meta?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;fillColor=#a20025;fontColor=#ffffff;strokeColor=#6F0000;" parent="1" vertex="1">
                    <mxGeometry x="359.5" y="330" width="100" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="qiaT2ZWoHhlmzKawoccj-17" value="db_meta" style="strokeWidth=2;shape=mxgraph.flowchart.extract_or_measurement;whiteSpace=wrap;fillColor=light-dark(#60A917,#000000);fontColor=light-dark(#FFFFFF,#FFFFFF);strokeColor=#2D7600;" parent="1" vertex="1">
                    <mxGeometry x="522.87" y="335" width="95" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="qiaT2ZWoHhlmzKawoccj-21" style="edgeStyle=none;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="qiaT2ZWoHhlmzKawoccj-18" target="qiaT2ZWoHhlmzKawoccj-20" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="qiaT2ZWoHhlmzKawoccj-22" value="Нет" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="qiaT2ZWoHhlmzKawoccj-21" vertex="1" connectable="0">
                    <mxGeometry x="-0.0964" y="-2" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="qiaT2ZWoHhlmzKawoccj-18" value="Получена db_meta?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;fillColor=#a20025;fontColor=#ffffff;strokeColor=#6F0000;" parent="1" vertex="1">
                    <mxGeometry x="520.37" y="450" width="100" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="qiaT2ZWoHhlmzKawoccj-19" style="edgeStyle=none;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="qiaT2ZWoHhlmzKawoccj-17" target="qiaT2ZWoHhlmzKawoccj-18" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="qiaT2ZWoHhlmzKawoccj-20" value="FileCreatedEvent" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;strokeColor=light-dark(#000000,#CCCC00);fillColor=light-dark(#FFFFFF,#999900);fontColor=light-dark(#000000,#000000);" parent="1" vertex="1">
                    <mxGeometry x="670" y="460" width="100" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="qiaT2ZWoHhlmzKawoccj-28" style="edgeStyle=none;html=1;" parent="1" source="qiaT2ZWoHhlmzKawoccj-23" target="qiaT2ZWoHhlmzKawoccj-27" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="qiaT2ZWoHhlmzKawoccj-30" value="Mon" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="qiaT2ZWoHhlmzKawoccj-28" vertex="1" connectable="0">
                    <mxGeometry x="-0.0982" y="2" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="qiaT2ZWoHhlmzKawoccj-37" style="edgeStyle=none;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="qiaT2ZWoHhlmzKawoccj-23" target="0poLGDn955sEGGy85D6p-3" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="qiaT2ZWoHhlmzKawoccj-39" value="Init" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="qiaT2ZWoHhlmzKawoccj-37" vertex="1" connectable="0">
                    <mxGeometry x="0.0015" y="-1" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="qiaT2ZWoHhlmzKawoccj-23" value="Тип проверки?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;fillColor=#a20025;fontColor=#ffffff;strokeColor=#6F0000;" parent="1" vertex="1">
                    <mxGeometry x="359.5" y="450" width="100" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="qiaT2ZWoHhlmzKawoccj-27" value="File_modified_debounce" style="strokeWidth=2;shape=mxgraph.flowchart.delay;whiteSpace=wrap;strokeColor=light-dark(#000000,#994C00);fontColor=light-dark(#000000,#FFFFFF);" parent="1" vertex="1">
                    <mxGeometry x="130" y="455" width="165" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="qiaT2ZWoHhlmzKawoccj-33" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="qiaT2ZWoHhlmzKawoccj-31" target="WrUVfjdqdiQjbBq9CG2c-1" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="80" y="585"/>
                            <mxPoint x="80" y="140"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="qiaT2ZWoHhlmzKawoccj-35" value="Да" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="qiaT2ZWoHhlmzKawoccj-33" vertex="1" connectable="0">
                    <mxGeometry x="-0.9117" y="2" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="qiaT2ZWoHhlmzKawoccj-42" style="edgeStyle=none;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="qiaT2ZWoHhlmzKawoccj-31" target="0poLGDn955sEGGy85D6p-3" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="qiaT2ZWoHhlmzKawoccj-43" value="Нет" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="qiaT2ZWoHhlmzKawoccj-42" vertex="1" connectable="0">
                    <mxGeometry x="-0.1945" y="-1" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="qiaT2ZWoHhlmzKawoccj-31" value="Файл изменился?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;fillColor=#a20025;fontColor=#ffffff;strokeColor=#6F0000;" parent="1" vertex="1">
                    <mxGeometry x="162.5" y="550" width="100" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="qiaT2ZWoHhlmzKawoccj-32" style="edgeStyle=none;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="qiaT2ZWoHhlmzKawoccj-27" target="qiaT2ZWoHhlmzKawoccj-31" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="qiaT2ZWoHhlmzKawoccj-40" style="edgeStyle=none;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="qiaT2ZWoHhlmzKawoccj-18" target="qiaT2ZWoHhlmzKawoccj-23" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="qiaT2ZWoHhlmzKawoccj-41" value="Да" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="qiaT2ZWoHhlmzKawoccj-40" vertex="1" connectable="0">
                    <mxGeometry x="-0.0171" y="2" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
    <diagram id="vBcvQkUICrc2UdayDag6" name="File_moved">
        <mxGraphModel dx="732" dy="851" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="xH4uRDtjTBno0xgA85TA-2" style="edgeStyle=none;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="JBWVPzzumq9D_WVErlFI-1" target="8kunWjt_5eCRj2jltMsC-1" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="420" y="240" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="JBWVPzzumq9D_WVErlFI-1" value="FileMovedEvent" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;strokeColor=light-dark(#000000,#CCCC00);fillColor=light-dark(#FFFFFF,#999900);fontColor=light-dark(#000000,#000000);" parent="1" vertex="1">
                    <mxGeometry x="355" y="160" width="100" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="l84cp8KRAf2RgUAS8QD0-2" style="edgeStyle=none;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="l84cp8KRAf2RgUAS8QD0-1" target="JBWVPzzumq9D_WVErlFI-1" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="l84cp8KRAf2RgUAS8QD0-1" value="Файл перемещён" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_1;whiteSpace=wrap;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="340" y="30" width="130" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="C5dA9743o1C82DJ2voeh-3" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="cIZLRkVmj_eJgeszza1k-1" target="JBWVPzzumq9D_WVErlFI-1" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="300" y="230" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="cIZLRkVmj_eJgeszza1k-1" value="симлинк файла" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.document2;whiteSpace=wrap;size=0.25;fillColor=#0050ef;fontColor=#ffffff;strokeColor=#001DBC;" parent="1" vertex="1">
                    <mxGeometry x="180" y="220" width="80" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="C5dA9743o1C82DJ2voeh-2" style="edgeStyle=none;html=1;" parent="1" source="C5dA9743o1C82DJ2voeh-1" target="JBWVPzzumq9D_WVErlFI-1" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="C5dA9743o1C82DJ2voeh-1" value="новый путь" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.document2;whiteSpace=wrap;size=0.25;fillColor=#0050ef;fontColor=#ffffff;strokeColor=#001DBC;" parent="1" vertex="1">
                    <mxGeometry x="180" y="165" width="80" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="xH4uRDtjTBno0xgA85TA-1" value="Связываем симлинк с новым путём, записываем новый путь crawler.new_indexed_file_moves" style="rounded=1;whiteSpace=wrap;absoluteArcSize=1;arcSize=14;strokeWidth=2;fontSize=12;" parent="1" vertex="1">
                    <mxGeometry x="310" y="410" width="190" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="ogN0sydRVm6vZhdeqwO3-2" style="edgeStyle=none;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="8kunWjt_5eCRj2jltMsC-1" target="xH4uRDtjTBno0xgA85TA-1" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="ogN0sydRVm6vZhdeqwO3-5" value="Да" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="ogN0sydRVm6vZhdeqwO3-2" vertex="1" connectable="0">
                    <mxGeometry x="-0.1229" y="-1" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="ogN0sydRVm6vZhdeqwO3-3" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="8kunWjt_5eCRj2jltMsC-1" target="ogN0sydRVm6vZhdeqwO3-1" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="ogN0sydRVm6vZhdeqwO3-4" value="Нет" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="ogN0sydRVm6vZhdeqwO3-3" vertex="1" connectable="0">
                    <mxGeometry x="-0.3047" y="1" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="8kunWjt_5eCRj2jltMsC-1" value="Симлинк в наличии?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;fillColor=#a20025;fontColor=#ffffff;strokeColor=#6F0000;" parent="1" vertex="1">
                    <mxGeometry x="355" y="270" width="100" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="ogN0sydRVm6vZhdeqwO3-6" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="ogN0sydRVm6vZhdeqwO3-1" target="xH4uRDtjTBno0xgA85TA-1" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="ogN0sydRVm6vZhdeqwO3-1" value="Генерируем симлинк из имени файла" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
                    <mxGeometry x="170" y="340" width="100" height="50" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
    <diagram id="jW1qXCHK0a-NCqvgOoSI" name="File_deleted">
        <mxGraphModel dx="732" dy="851" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="6u9-SF5QU-sjFTUkFQbF-1" value="Файл удалён" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_1;whiteSpace=wrap;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="340" y="30" width="130" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="-LncGjuUF1BYD9OVhJzE-1" value="Получена db_meta?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;fillColor=#a20025;fontColor=#ffffff;strokeColor=#6F0000;" parent="1" vertex="1">
                    <mxGeometry x="355" y="150" width="100" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="-LncGjuUF1BYD9OVhJzE-2" style="edgeStyle=none;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="6u9-SF5QU-sjFTUkFQbF-1" target="-LncGjuUF1BYD9OVhJzE-1" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="DbROkY99cwLm4SX2cRbZ-2" style="edgeStyle=none;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="gekw-b1uQwQaaCtt18_R-1" target="DbROkY99cwLm4SX2cRbZ-1" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="gekw-b1uQwQaaCtt18_R-1" value="Записываем путь и время удв crawler.file_diffs" style="rounded=1;whiteSpace=wrap;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
                    <mxGeometry x="340" y="380" width="130" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="tN8G5jMtit9oGaKjlEHy-3" style="edgeStyle=none;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="tN8G5jMtit9oGaKjlEHy-1" target="gekw-b1uQwQaaCtt18_R-1" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="tN8G5jMtit9oGaKjlEHy-1" value="status:deleted&#xa;modified: now" style="strokeWidth=2;shape=mxgraph.flowchart.document2;whiteSpace=wrap;size=0.25;fillColor=#0050ef;fontColor=#ffffff;strokeColor=#001DBC;" parent="1" vertex="1">
                    <mxGeometry x="365" y="270" width="80" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="tN8G5jMtit9oGaKjlEHy-2" style="edgeStyle=none;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="-LncGjuUF1BYD9OVhJzE-1" target="tN8G5jMtit9oGaKjlEHy-1" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="Z51IE68py7ZcB9V65OmG-4" value="Да" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="tN8G5jMtit9oGaKjlEHy-2" vertex="1" connectable="0">
                    <mxGeometry x="0.0171" y="-1" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="Z51IE68py7ZcB9V65OmG-1" value="db_meta" style="strokeWidth=2;shape=mxgraph.flowchart.extract_or_measurement;whiteSpace=wrap;fillColor=light-dark(#60A917,#000000);fontColor=light-dark(#FFFFFF,#FFFFFF);strokeColor=#2D7600;" parent="1" vertex="1">
                    <mxGeometry x="105" y="270" width="95" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="Z51IE68py7ZcB9V65OmG-2" style="edgeStyle=none;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=0.78;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryPerimeter=0;" parent="1" source="Z51IE68py7ZcB9V65OmG-1" target="tN8G5jMtit9oGaKjlEHy-1" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="185" y="496" as="sourcePoint"/>
                        <mxPoint x="355" y="300" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="Z51IE68py7ZcB9V65OmG-3" value="&lt;span style=&quot;&quot;&gt;crawler.&lt;/span&gt;&lt;div&gt;_get_db_files_data()&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=light-dark(#000000,#FFFFFF);" parent="Z51IE68py7ZcB9V65OmG-2" vertex="1" connectable="0">
                    <mxGeometry x="-0.0214" y="-1" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="Z51IE68py7ZcB9V65OmG-5" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="-LncGjuUF1BYD9OVhJzE-1" target="Z51IE68py7ZcB9V65OmG-1" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="Z51IE68py7ZcB9V65OmG-6" value="Нет" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="Z51IE68py7ZcB9V65OmG-5" vertex="1" connectable="0">
                    <mxGeometry x="-0.2257" y="3" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="DbROkY99cwLm4SX2cRbZ-1" value="update_batch" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;strokeColor=light-dark(#000000,#CCCC00);fillColor=light-dark(#FFFFFF,#999900);fontColor=light-dark(#000000,#000000);" parent="1" vertex="1">
                    <mxGeometry x="327.5" y="470" width="155" height="60" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
    <diagram id="AETH1ObfdASP2B999Qau" name="update_batch">
        <mxGraphModel dx="732" dy="851" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="9npwzOUAxXMW8I29NGEJ-1" value="тип изменения&#xa;(создан/модифицирован/удалён)" style="strokeWidth=2;shape=mxgraph.flowchart.document2;whiteSpace=wrap;size=0.25;fillColor=#0050ef;fontColor=#ffffff;strokeColor=#001DBC;" parent="1" vertex="1">
                    <mxGeometry x="70" y="40" width="190" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="cqlRhyFPyIYFanpcCM2z-2" style="edgeStyle=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="ku0CZGN9D6buPjBtJfQ4-1" target="cqlRhyFPyIYFanpcCM2z-1" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="ku0CZGN9D6buPjBtJfQ4-1" value="Изменение меты файла" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_1;whiteSpace=wrap;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="340" y="30" width="130" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="ku0CZGN9D6buPjBtJfQ4-3" value="мета файла" style="strokeWidth=2;shape=mxgraph.flowchart.document2;whiteSpace=wrap;size=0.25;fillColor=#0050ef;fontColor=#ffffff;strokeColor=#001DBC;" parent="1" vertex="1">
                    <mxGeometry x="547.87" y="40" width="190" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="ku0CZGN9D6buPjBtJfQ4-4" style="edgeStyle=none;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="9npwzOUAxXMW8I29NGEJ-1" target="ku0CZGN9D6buPjBtJfQ4-1" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="ku0CZGN9D6buPjBtJfQ4-5" style="edgeStyle=none;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="ku0CZGN9D6buPjBtJfQ4-3" target="ku0CZGN9D6buPjBtJfQ4-1" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="cqlRhyFPyIYFanpcCM2z-1" value="Батч в crawler.new_indexed_batches?" style="strokeWidth=2;shape=mxgraph.flowchart.decision;whiteSpace=wrap;fillColor=#a20025;fontColor=#ffffff;strokeColor=#6F0000;" parent="1" vertex="1">
                    <mxGeometry x="280" y="140" width="250" height="150" as="geometry"/>
                </mxCell>
                <mxCell id="cqlRhyFPyIYFanpcCM2z-3" value="Батч в crawler.loaded_batches?" style="strokeWidth=2;shape=mxgraph.flowchart.decision;whiteSpace=wrap;fillColor=#a20025;fontColor=#ffffff;strokeColor=#6F0000;" parent="1" vertex="1">
                    <mxGeometry x="325" y="340" width="160" height="130" as="geometry"/>
                </mxCell>
                <mxCell id="cqlRhyFPyIYFanpcCM2z-4" style="edgeStyle=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="cqlRhyFPyIYFanpcCM2z-1" target="cqlRhyFPyIYFanpcCM2z-3" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="cqlRhyFPyIYFanpcCM2z-5" value="Нет" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="cqlRhyFPyIYFanpcCM2z-4" vertex="1" connectable="0">
                    <mxGeometry x="-0.0867" y="-3" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="4hrQgMErS79q2rvP5dQR-2" style="edgeStyle=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="lzxPKV3mLahBH55M_v5x-1" target="4hrQgMErS79q2rvP5dQR-1" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="lzxPKV3mLahBH55M_v5x-1" value="db_batch" style="strokeWidth=2;shape=mxgraph.flowchart.extract_or_measurement;whiteSpace=wrap;fillColor=light-dark(#60A917,#000000);fontColor=light-dark(#FFFFFF,#FFFFFF);strokeColor=#2D7600;" parent="1" vertex="1">
                    <mxGeometry x="140.05" y="375" width="95" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="lzxPKV3mLahBH55M_v5x-2" style="edgeStyle=none;html=1;entryX=0.78;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="cqlRhyFPyIYFanpcCM2z-3" target="lzxPKV3mLahBH55M_v5x-1" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="cpWleRFUcnRLL1dHY0w4-2" style="edgeStyle=none;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="4hrQgMErS79q2rvP5dQR-1" target="cpWleRFUcnRLL1dHY0w4-1" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="cpWleRFUcnRLL1dHY0w4-3" value="Нет" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="cpWleRFUcnRLL1dHY0w4-2" vertex="1" connectable="0">
                    <mxGeometry x="-0.1807" y="-3" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="cpWleRFUcnRLL1dHY0w4-5" style="edgeStyle=none;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="4hrQgMErS79q2rvP5dQR-1" target="cpWleRFUcnRLL1dHY0w4-4" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="cpWleRFUcnRLL1dHY0w4-6" value="Да" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="cpWleRFUcnRLL1dHY0w4-5" vertex="1" connectable="0">
                    <mxGeometry x="0.0483" y="1" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="4hrQgMErS79q2rvP5dQR-1" value="Батч получен?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;fillColor=#a20025;fontColor=#ffffff;strokeColor=#6F0000;" parent="1" vertex="1">
                    <mxGeometry x="137.55" y="490" width="100" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="cpWleRFUcnRLL1dHY0w4-1" value="создаём батч" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
                    <mxGeometry x="349" y="500" width="112" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="cpWleRFUcnRLL1dHY0w4-4" value="сохраняем батч в crawler.loaded_batches" style="rounded=1;whiteSpace=wrap;absoluteArcSize=1;arcSize=14;strokeWidth=2;fontSize=10;" parent="1" vertex="1">
                    <mxGeometry x="110.05000000000001" y="610" width="155" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="cpWleRFUcnRLL1dHY0w4-13" style="edgeStyle=none;html=1;" parent="1" source="cpWleRFUcnRLL1dHY0w4-7" target="cpWleRFUcnRLL1dHY0w4-12" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="cpWleRFUcnRLL1dHY0w4-7" value="Батч для дальнейшей работы" style="strokeWidth=2;shape=mxgraph.flowchart.document2;whiteSpace=wrap;size=0.25;fillColor=#0050ef;fontColor=#ffffff;strokeColor=#001DBC;" parent="1" vertex="1">
                    <mxGeometry x="325.5" y="610" width="159" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="cpWleRFUcnRLL1dHY0w4-8" style="edgeStyle=none;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="cpWleRFUcnRLL1dHY0w4-1" target="cpWleRFUcnRLL1dHY0w4-7" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="cpWleRFUcnRLL1dHY0w4-9" style="edgeStyle=none;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="cpWleRFUcnRLL1dHY0w4-4" target="cpWleRFUcnRLL1dHY0w4-7" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="cpWleRFUcnRLL1dHY0w4-10" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="cqlRhyFPyIYFanpcCM2z-1" target="cpWleRFUcnRLL1dHY0w4-7" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="cpWleRFUcnRLL1dHY0w4-11" value="Да" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="cpWleRFUcnRLL1dHY0w4-10" vertex="1" connectable="0">
                    <mxGeometry x="-0.1616" y="3" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="cpWleRFUcnRLL1dHY0w4-17" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="cpWleRFUcnRLL1dHY0w4-12" target="cpWleRFUcnRLL1dHY0w4-15" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="cpWleRFUcnRLL1dHY0w4-21" value="файл модифицирован" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="cpWleRFUcnRLL1dHY0w4-17" vertex="1" connectable="0">
                    <mxGeometry x="-0.4344" relative="1" as="geometry">
                        <mxPoint x="-8" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="cpWleRFUcnRLL1dHY0w4-18" style="edgeStyle=none;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="cpWleRFUcnRLL1dHY0w4-12" target="cpWleRFUcnRLL1dHY0w4-14" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="cpWleRFUcnRLL1dHY0w4-20" value="новый файл" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="cpWleRFUcnRLL1dHY0w4-18" vertex="1" connectable="0">
                    <mxGeometry x="-0.1513" y="-1" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="cpWleRFUcnRLL1dHY0w4-19" style="edgeStyle=orthogonalEdgeStyle;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="cpWleRFUcnRLL1dHY0w4-12" target="cpWleRFUcnRLL1dHY0w4-16" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="cpWleRFUcnRLL1dHY0w4-22" value="файл удалён" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="cpWleRFUcnRLL1dHY0w4-19" vertex="1" connectable="0">
                    <mxGeometry x="-0.2437" relative="1" as="geometry">
                        <mxPoint x="-25" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="cpWleRFUcnRLL1dHY0w4-12" value="Тип изменения?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;fillColor=#a20025;fontColor=#ffffff;strokeColor=#6F0000;" parent="1" vertex="1">
                    <mxGeometry x="355" y="700" width="100" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="cpWleRFUcnRLL1dHY0w4-25" style="edgeStyle=none;html=1;" parent="1" source="cpWleRFUcnRLL1dHY0w4-14" target="cpWleRFUcnRLL1dHY0w4-23" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="cpWleRFUcnRLL1dHY0w4-14" value="добавляем файл в батч" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
                    <mxGeometry x="316.53999999999996" y="830" width="174" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="cpWleRFUcnRLL1dHY0w4-15" value="изменяем данные о файле в батче" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
                    <mxGeometry x="89.58999999999996" y="830" width="174" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="cpWleRFUcnRLL1dHY0w4-16" value="удаляем файл из батча" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
                    <mxGeometry x="546.4099999999999" y="830" width="174" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="cpWleRFUcnRLL1dHY0w4-28" style="edgeStyle=none;html=1;" parent="1" source="cpWleRFUcnRLL1dHY0w4-23" target="cpWleRFUcnRLL1dHY0w4-27" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="cpWleRFUcnRLL1dHY0w4-29" value="Да" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="cpWleRFUcnRLL1dHY0w4-28" vertex="1" connectable="0">
                    <mxGeometry x="-0.1333" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="cpWleRFUcnRLL1dHY0w4-23" value="Батч изменён?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;fillColor=#a20025;fontColor=#ffffff;strokeColor=#6F0000;" parent="1" vertex="1">
                    <mxGeometry x="353.54" y="930" width="100" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="cpWleRFUcnRLL1dHY0w4-24" style="edgeStyle=orthogonalEdgeStyle;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="cpWleRFUcnRLL1dHY0w4-15" target="cpWleRFUcnRLL1dHY0w4-23" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="310" y="960" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="177" y="965"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="cpWleRFUcnRLL1dHY0w4-26" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="cpWleRFUcnRLL1dHY0w4-16" target="cpWleRFUcnRLL1dHY0w4-23" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="_GoQZAgZHhCexFUvrGd--2" style="edgeStyle=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="cpWleRFUcnRLL1dHY0w4-27" target="_GoQZAgZHhCexFUvrGd--1" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="cpWleRFUcnRLL1dHY0w4-27" value="сохраняем батч в crawler.new_indexed_batches" style="rounded=1;whiteSpace=wrap;absoluteArcSize=1;arcSize=14;strokeWidth=2;fontSize=10;" parent="1" vertex="1">
                    <mxGeometry x="326.04" y="1040" width="155" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="_GoQZAgZHhCexFUvrGd--1" value="update_sample" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;strokeColor=light-dark(#000000,#CCCC00);fillColor=light-dark(#FFFFFF,#999900);fontColor=light-dark(#000000,#000000);" parent="1" vertex="1">
                    <mxGeometry x="326.04" y="1120" width="155" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="g4PHG0kjA1sccpUDpBrq-2" style="edgeStyle=none;html=1;" parent="1" source="g4PHG0kjA1sccpUDpBrq-1" target="_GoQZAgZHhCexFUvrGd--1" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="g4PHG0kjA1sccpUDpBrq-1" value="мета файла" style="strokeWidth=2;shape=mxgraph.flowchart.document2;whiteSpace=wrap;size=0.25;fillColor=#0050ef;fontColor=#ffffff;strokeColor=#001DBC;" parent="1" vertex="1">
                    <mxGeometry x="540" y="1115" width="100" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="3F09DEbbjHL4RmbKgQSG-2" style="edgeStyle=none;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="3F09DEbbjHL4RmbKgQSG-1" target="_GoQZAgZHhCexFUvrGd--1" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="3F09DEbbjHL4RmbKgQSG-1" value="тип изменения&#xa;(создан/модифицирован/удалён)" style="strokeWidth=2;shape=mxgraph.flowchart.document2;whiteSpace=wrap;size=0.25;fillColor=#0050ef;fontColor=#ffffff;strokeColor=#001DBC;" parent="1" vertex="1">
                    <mxGeometry x="75.05" y="1105" width="190" height="60" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
    <diagram id="RK-Aw0owDrHZI1BKvA5G" name="update_sample">
        <mxGraphModel dx="2004" dy="1160" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="oD3d7xe36MWBba0r8ddk-1" value="тип изменения файла&#xa;(создан/модифицирован/удалён)" style="strokeWidth=2;shape=mxgraph.flowchart.document2;whiteSpace=wrap;size=0.25;fillColor=#0050ef;fontColor=#ffffff;strokeColor=#001DBC;" parent="1" vertex="1">
                    <mxGeometry x="70" y="40" width="190" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-2" style="edgeStyle=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="oD3d7xe36MWBba0r8ddk-3" target="oD3d7xe36MWBba0r8ddk-7" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-3" value="Изменение меты батча" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_1;whiteSpace=wrap;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="340" y="30" width="130" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-4" value="мета файла" style="strokeWidth=2;shape=mxgraph.flowchart.document2;whiteSpace=wrap;size=0.25;fillColor=#0050ef;fontColor=#ffffff;strokeColor=#001DBC;" parent="1" vertex="1">
                    <mxGeometry x="547.87" y="40" width="190" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-5" style="edgeStyle=none;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="oD3d7xe36MWBba0r8ddk-1" target="oD3d7xe36MWBba0r8ddk-3" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-6" style="edgeStyle=none;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="oD3d7xe36MWBba0r8ddk-4" target="oD3d7xe36MWBba0r8ddk-3" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-7" value="Образец в crawler.new_indexed_samples?" style="strokeWidth=2;shape=mxgraph.flowchart.decision;whiteSpace=wrap;fillColor=#a20025;fontColor=#ffffff;strokeColor=#6F0000;" parent="1" vertex="1">
                    <mxGeometry x="280" y="140" width="250" height="150" as="geometry"/>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-8" value="Образец в crawler.loaded_samples?" style="strokeWidth=2;shape=mxgraph.flowchart.decision;whiteSpace=wrap;fillColor=#a20025;fontColor=#ffffff;strokeColor=#6F0000;" parent="1" vertex="1">
                    <mxGeometry x="325" y="340" width="160" height="130" as="geometry"/>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-9" style="edgeStyle=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="oD3d7xe36MWBba0r8ddk-7" target="oD3d7xe36MWBba0r8ddk-8" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-10" value="Нет" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="oD3d7xe36MWBba0r8ddk-9" vertex="1" connectable="0">
                    <mxGeometry x="-0.0867" y="-3" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-11" style="edgeStyle=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="oD3d7xe36MWBba0r8ddk-12" target="oD3d7xe36MWBba0r8ddk-18" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-12" value="db_sample" style="strokeWidth=2;shape=mxgraph.flowchart.extract_or_measurement;whiteSpace=wrap;fillColor=light-dark(#60A917,#000000);fontColor=light-dark(#FFFFFF,#FFFFFF);strokeColor=#2D7600;" parent="1" vertex="1">
                    <mxGeometry x="140.05" y="375" width="95" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-13" style="edgeStyle=none;html=1;entryX=0.78;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="oD3d7xe36MWBba0r8ddk-8" target="oD3d7xe36MWBba0r8ddk-12" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-14" style="edgeStyle=none;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="oD3d7xe36MWBba0r8ddk-18" target="oD3d7xe36MWBba0r8ddk-19" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-15" value="Нет" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="oD3d7xe36MWBba0r8ddk-14" vertex="1" connectable="0">
                    <mxGeometry x="-0.1807" y="-3" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-16" style="edgeStyle=none;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="oD3d7xe36MWBba0r8ddk-18" target="oD3d7xe36MWBba0r8ddk-20" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-17" value="Да" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="oD3d7xe36MWBba0r8ddk-16" vertex="1" connectable="0">
                    <mxGeometry x="0.0483" y="1" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-18" value="Образец получен?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;fillColor=#a20025;fontColor=#ffffff;strokeColor=#6F0000;" parent="1" vertex="1">
                    <mxGeometry x="137.55" y="490" width="100" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-19" value="создаём образец" style="rounded=1;whiteSpace=wrap;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
                    <mxGeometry x="349" y="500" width="112" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-20" value="сохраняем образец в crawler.loaded_samples" style="rounded=1;whiteSpace=wrap;absoluteArcSize=1;arcSize=14;strokeWidth=2;fontSize=10;" parent="1" vertex="1">
                    <mxGeometry x="110.05000000000001" y="610" width="155" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-21" style="edgeStyle=none;html=1;" parent="1" source="oD3d7xe36MWBba0r8ddk-22" target="oD3d7xe36MWBba0r8ddk-33" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-22" value="Образец для дальнейшей работы" style="strokeWidth=2;shape=mxgraph.flowchart.document2;whiteSpace=wrap;size=0.25;fillColor=#0050ef;fontColor=#ffffff;strokeColor=#001DBC;" parent="1" vertex="1">
                    <mxGeometry x="325.5" y="610" width="159" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-23" style="edgeStyle=none;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="oD3d7xe36MWBba0r8ddk-19" target="oD3d7xe36MWBba0r8ddk-22" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-24" style="edgeStyle=none;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="oD3d7xe36MWBba0r8ddk-20" target="oD3d7xe36MWBba0r8ddk-22" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-25" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="oD3d7xe36MWBba0r8ddk-7" target="oD3d7xe36MWBba0r8ddk-22" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-26" value="Да" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="oD3d7xe36MWBba0r8ddk-25" vertex="1" connectable="0">
                    <mxGeometry x="-0.1616" y="3" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-27" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="oD3d7xe36MWBba0r8ddk-33" target="oD3d7xe36MWBba0r8ddk-36" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-28" value="файл модифицирован" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="oD3d7xe36MWBba0r8ddk-27" vertex="1" connectable="0">
                    <mxGeometry x="-0.4344" relative="1" as="geometry">
                        <mxPoint x="-8" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-29" style="edgeStyle=none;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="oD3d7xe36MWBba0r8ddk-33" target="oD3d7xe36MWBba0r8ddk-35" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-30" value="новый файл" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="oD3d7xe36MWBba0r8ddk-29" vertex="1" connectable="0">
                    <mxGeometry x="-0.1513" y="-1" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-31" style="edgeStyle=orthogonalEdgeStyle;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="oD3d7xe36MWBba0r8ddk-33" target="oD3d7xe36MWBba0r8ddk-37" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-32" value="файл удалён" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="oD3d7xe36MWBba0r8ddk-31" vertex="1" connectable="0">
                    <mxGeometry x="-0.2437" relative="1" as="geometry">
                        <mxPoint x="-25" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-33" value="Тип изменения?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;fillColor=#a20025;fontColor=#ffffff;strokeColor=#6F0000;" parent="1" vertex="1">
                    <mxGeometry x="355" y="700" width="100" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-34" style="edgeStyle=none;html=1;" parent="1" source="oD3d7xe36MWBba0r8ddk-35" target="oD3d7xe36MWBba0r8ddk-40" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-35" value="добавляем файл в образец" style="rounded=1;whiteSpace=wrap;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
                    <mxGeometry x="316.53999999999996" y="830" width="174" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-36" value="изменяем данные о файле в образце" style="rounded=1;whiteSpace=wrap;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
                    <mxGeometry x="89.58999999999996" y="830" width="174" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-37" value="удаляем файл из о&lt;span style=&quot;color: rgb(18, 18, 18);&quot;&gt;бразца&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="1" vertex="1">
                    <mxGeometry x="546.4099999999999" y="830" width="174" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-38" style="edgeStyle=none;html=1;" parent="1" source="oD3d7xe36MWBba0r8ddk-40" target="oD3d7xe36MWBba0r8ddk-44" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-39" value="Да" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="oD3d7xe36MWBba0r8ddk-38" vertex="1" connectable="0">
                    <mxGeometry x="-0.1333" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-40" value="Образец изменён?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;fillColor=#a20025;fontColor=#ffffff;strokeColor=#6F0000;" parent="1" vertex="1">
                    <mxGeometry x="353.54" y="930" width="100" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-41" style="edgeStyle=orthogonalEdgeStyle;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="oD3d7xe36MWBba0r8ddk-36" target="oD3d7xe36MWBba0r8ddk-40" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="310" y="960" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="177" y="965"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-42" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="oD3d7xe36MWBba0r8ddk-37" target="oD3d7xe36MWBba0r8ddk-40" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-43" style="edgeStyle=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="oD3d7xe36MWBba0r8ddk-44" target="oD3d7xe36MWBba0r8ddk-45" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-44" value="сохраняем образец в crawler.new_indexed_samples" style="rounded=1;whiteSpace=wrap;absoluteArcSize=1;arcSize=14;strokeWidth=2;fontSize=10;" parent="1" vertex="1">
                    <mxGeometry x="326.04" y="1040" width="155" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="oD3d7xe36MWBba0r8ddk-45" value="fs_changes2db" style="rounded=1;whiteSpace=wrap;absoluteArcSize=1;arcSize=14;strokeWidth=2;strokeColor=light-dark(#000000,#CCCC00);fillColor=light-dark(#FFFFFF,#999900);fontColor=light-dark(#000000,#000000);" parent="1" vertex="1">
                    <mxGeometry x="326.04" y="1120" width="155" height="30" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
    <diagram id="JgPEADK9gghquRAz0qci" name="fs_changes2db">
        <mxGraphModel dx="2863" dy="1657" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="oPOanv3LIe3LFAiqbTzO-1" style="edgeStyle=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="oPOanv3LIe3LFAiqbTzO-3" target="oPOanv3LIe3LFAiqbTzO-4" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="-42.5" y="280" as="sourcePoint"/>
                        <mxPoint x="7.5" y="280" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="oPOanv3LIe3LFAiqbTzO-2" value="DB" style="strokeWidth=2;shape=mxgraph.flowchart.merge_or_storage;whiteSpace=wrap;strokeColor=light-dark(#000000,#66CC00);fontStyle=1;fontSize=13;" parent="1" vertex="1">
                    <mxGeometry x="357.5" y="325" width="95" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="oPOanv3LIe3LFAiqbTzO-3" value="DB_writing_debounce" style="strokeWidth=2;shape=mxgraph.flowchart.delay;whiteSpace=wrap;strokeColor=light-dark(#000000,#994C00);fontColor=light-dark(#000000,#FFFFFF);" parent="1" vertex="1">
                    <mxGeometry x="132.5" y="210" width="165" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="mTqzpjXXDJl-uPQj9YFZ-5" style="edgeStyle=none;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="oPOanv3LIe3LFAiqbTzO-4" target="oPOanv3LIe3LFAiqbTzO-2" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="mTqzpjXXDJl-uPQj9YFZ-6" value="Нет" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="mTqzpjXXDJl-uPQj9YFZ-5" vertex="1" connectable="0">
                    <mxGeometry x="-0.2092" y="-1" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="oPOanv3LIe3LFAiqbTzO-4" value="Данные изменились?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;fillColor=#a20025;fontColor=#ffffff;strokeColor=#6F0000;" parent="1" vertex="1">
                    <mxGeometry x="165" y="290" width="100" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="mTqzpjXXDJl-uPQj9YFZ-1" value="Запрос на запись данных в БД" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_1;whiteSpace=wrap;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="340" y="30" width="130" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="mTqzpjXXDJl-uPQj9YFZ-2" style="edgeStyle=none;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="mTqzpjXXDJl-uPQj9YFZ-1" target="Z2Reqn7O1m1qhlFKInKk-1" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="450" y="130" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="mTqzpjXXDJl-uPQj9YFZ-3" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="oPOanv3LIe3LFAiqbTzO-4" target="oPOanv3LIe3LFAiqbTzO-3" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="80" y="325"/>
                            <mxPoint x="80" y="240"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="mTqzpjXXDJl-uPQj9YFZ-4" value="Да" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="mTqzpjXXDJl-uPQj9YFZ-3" vertex="1" connectable="0">
                    <mxGeometry x="0.1685" y="4" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="Z2Reqn7O1m1qhlFKInKk-3" style="edgeStyle=none;html=1;" edge="1" parent="1" source="Z2Reqn7O1m1qhlFKInKk-1" target="oPOanv3LIe3LFAiqbTzO-2">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="Z2Reqn7O1m1qhlFKInKk-5" value="init" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="Z2Reqn7O1m1qhlFKInKk-3">
                    <mxGeometry x="-0.248" y="1" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="Z2Reqn7O1m1qhlFKInKk-1" value="Этап?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;fillColor=#a20025;fontColor=#ffffff;strokeColor=#6F0000;" vertex="1" parent="1">
                    <mxGeometry x="355" y="140" width="100" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="Z2Reqn7O1m1qhlFKInKk-2" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="Z2Reqn7O1m1qhlFKInKk-1" target="oPOanv3LIe3LFAiqbTzO-3">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="Z2Reqn7O1m1qhlFKInKk-6" value="monitoring" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="Z2Reqn7O1m1qhlFKInKk-2">
                    <mxGeometry x="-0.44" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>